INFO 2022-07-27 10:37:25 Shutting down
INFO 2022-07-27 10:37:25 Waiting for application shutdown.
INFO 2022-07-27 10:37:25 Application shutdown complete.
INFO 2022-07-27 10:37:25 Finished server process [66385]
INFO 2022-07-27 10:37:26 Started server process [69127]
INFO 2022-07-27 10:37:26 Waiting for application startup.
INFO 2022-07-27 10:37:26 Application startup complete.
WARNING 2022-07-27 10:38:52 Invalid HTTP request received.
Traceback (most recent call last):
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 129, in handle_events
    event = self.conn.next_event()
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/h11/_connection.py", line 474, in next_event
    raise RemoteProtocolError(
h11._util.RemoteProtocolError: Receive buffer too long
INFO 2022-07-27 10:43:15 Shutting down
INFO 2022-07-27 10:43:15 Waiting for application shutdown.
INFO 2022-07-27 10:43:15 Application shutdown complete.
INFO 2022-07-27 10:43:15 Finished server process [69127]
INFO 2022-07-27 10:43:16 Started server process [69240]
INFO 2022-07-27 10:43:16 Waiting for application startup.
INFO 2022-07-27 10:43:16 Application startup complete.
INFO 2022-07-27 10:43:35 Shutting down
INFO 2022-07-27 10:43:35 Waiting for application shutdown.
INFO 2022-07-27 10:43:35 Application shutdown complete.
INFO 2022-07-27 10:43:35 Finished server process [69240]
INFO 2022-07-27 10:43:36 Started server process [69251]
INFO 2022-07-27 10:43:36 Waiting for application startup.
INFO 2022-07-27 10:43:36 Application startup complete.
INFO 2022-07-27 10:44:20 Shutting down
INFO 2022-07-27 10:44:20 Waiting for application shutdown.
INFO 2022-07-27 10:44:20 Application shutdown complete.
INFO 2022-07-27 10:44:20 Finished server process [69251]
INFO 2022-07-27 10:44:20 Started server process [69264]
INFO 2022-07-27 10:44:20 Waiting for application startup.
INFO 2022-07-27 10:44:20 Application startup complete.
INFO 2022-07-27 10:45:47 Shutting down
INFO 2022-07-27 10:45:47 Waiting for application shutdown.
INFO 2022-07-27 10:45:47 Application shutdown complete.
INFO 2022-07-27 10:45:47 Finished server process [69264]
INFO 2022-07-27 10:45:47 Started server process [69285]
INFO 2022-07-27 10:45:47 Waiting for application startup.
INFO 2022-07-27 10:45:47 Application startup complete.
INFO 2022-07-27 11:36:14 Shutting down
INFO 2022-07-27 11:36:14 Waiting for application shutdown.
INFO 2022-07-27 11:36:14 Application shutdown complete.
INFO 2022-07-27 11:36:14 Finished server process [69285]
INFO 2022-07-27 11:36:15 Started server process [70154]
INFO 2022-07-27 11:36:15 Waiting for application startup.
INFO 2022-07-27 11:36:15 Application startup complete.
INFO 2022-07-27 11:37:32 Shutting down
INFO 2022-07-27 11:37:32 Waiting for application shutdown.
INFO 2022-07-27 11:37:32 Application shutdown complete.
INFO 2022-07-27 11:37:32 Finished server process [70154]
INFO 2022-07-27 11:37:33 Started server process [70183]
INFO 2022-07-27 11:37:33 Waiting for application startup.
INFO 2022-07-27 11:37:33 Application startup complete.
INFO 2022-07-27 11:40:47 Shutting down
INFO 2022-07-27 11:40:47 Waiting for application shutdown.
INFO 2022-07-27 11:40:47 Application shutdown complete.
INFO 2022-07-27 11:40:47 Finished server process [70183]
INFO 2022-07-27 11:40:48 Started server process [70250]
INFO 2022-07-27 11:40:48 Waiting for application startup.
INFO 2022-07-27 11:40:48 Application startup complete.
INFO 2022-07-27 11:41:10 Shutting down
INFO 2022-07-27 11:41:11 Waiting for application shutdown.
INFO 2022-07-27 11:41:11 Application shutdown complete.
INFO 2022-07-27 11:41:11 Finished server process [70250]
INFO 2022-07-27 11:41:11 Started server process [70270]
INFO 2022-07-27 11:41:11 Waiting for application startup.
INFO 2022-07-27 11:41:11 Application startup complete.
INFO 2022-07-27 11:41:26 Shutting down
INFO 2022-07-27 11:41:26 Waiting for application shutdown.
INFO 2022-07-27 11:41:26 Application shutdown complete.
INFO 2022-07-27 11:41:26 Finished server process [70270]
INFO 2022-07-27 11:41:27 Started server process [70273]
INFO 2022-07-27 11:41:27 Waiting for application startup.
INFO 2022-07-27 11:41:27 Application startup complete.
INFO 2022-07-27 11:49:07 Shutting down
INFO 2022-07-27 11:49:07 Waiting for application shutdown.
INFO 2022-07-27 11:49:07 Application shutdown complete.
INFO 2022-07-27 11:49:07 Finished server process [70273]
INFO 2022-07-27 11:49:08 Started server process [70396]
INFO 2022-07-27 11:49:08 Waiting for application startup.
INFO 2022-07-27 11:49:08 Application startup complete.
INFO 2022-07-27 11:50:14 Shutting down
INFO 2022-07-27 11:50:14 Waiting for application shutdown.
INFO 2022-07-27 11:50:14 Application shutdown complete.
INFO 2022-07-27 11:50:14 Finished server process [70396]
INFO 2022-07-27 11:50:15 Started server process [70429]
INFO 2022-07-27 11:50:15 Waiting for application startup.
INFO 2022-07-27 11:50:15 Application startup complete.
INFO 2022-07-27 11:51:26 Shutting down
INFO 2022-07-27 11:51:26 Waiting for application shutdown.
INFO 2022-07-27 11:51:26 Application shutdown complete.
INFO 2022-07-27 11:51:26 Finished server process [70429]
INFO 2022-07-27 11:51:27 Started server process [70452]
INFO 2022-07-27 11:51:27 Waiting for application startup.
INFO 2022-07-27 11:51:27 Application startup complete.
INFO 2022-07-27 11:52:45 Shutting down
INFO 2022-07-27 11:52:45 Waiting for application shutdown.
INFO 2022-07-27 11:52:45 Application shutdown complete.
INFO 2022-07-27 11:52:45 Finished server process [70452]
INFO 2022-07-27 11:52:46 Started server process [70471]
INFO 2022-07-27 11:52:46 Waiting for application startup.
INFO 2022-07-27 11:52:46 Application startup complete.
INFO 2022-07-27 11:57:09 Shutting down
INFO 2022-07-27 11:57:09 Waiting for application shutdown.
INFO 2022-07-27 11:57:09 Application shutdown complete.
INFO 2022-07-27 11:57:09 Finished server process [70471]
INFO 2022-07-27 11:57:10 Started server process [70577]
INFO 2022-07-27 11:57:10 Waiting for application startup.
INFO 2022-07-27 11:57:10 Application startup complete.
INFO 2022-07-27 15:47:57 Shutting down
INFO 2022-07-27 15:47:57 Waiting for application shutdown.
INFO 2022-07-27 15:47:57 Application shutdown complete.
INFO 2022-07-27 15:47:57 Finished server process [70577]
INFO 2022-07-27 15:53:14 Started server process [74655]
INFO 2022-07-27 15:53:14 Waiting for application startup.
INFO 2022-07-27 15:53:14 Application startup complete.
INFO 2022-07-27 15:58:49 Shutting down
INFO 2022-07-27 15:58:49 Waiting for application shutdown.
INFO 2022-07-27 15:58:49 Application shutdown complete.
INFO 2022-07-27 15:58:49 Finished server process [74655]
INFO 2022-07-27 15:58:50 Started server process [74741]
INFO 2022-07-27 15:58:50 Waiting for application startup.
INFO 2022-07-27 15:58:50 Application startup complete.
INFO 2022-07-27 16:00:19 Shutting down
INFO 2022-07-27 16:00:19 Waiting for application shutdown.
INFO 2022-07-27 16:00:19 Application shutdown complete.
INFO 2022-07-27 16:00:19 Finished server process [74741]
INFO 2022-07-27 16:05:57 Started server process [74921]
INFO 2022-07-27 16:05:57 Waiting for application startup.
INFO 2022-07-27 16:05:57 Application startup complete.
INFO 2022-07-27 16:07:21 Shutting down
INFO 2022-07-27 16:07:22 Waiting for application shutdown.
INFO 2022-07-27 16:07:22 Application shutdown complete.
INFO 2022-07-27 16:07:22 Finished server process [74921]
INFO 2022-07-27 16:07:23 Started server process [74982]
INFO 2022-07-27 16:07:23 Waiting for application startup.
INFO 2022-07-27 16:07:23 Application startup complete.
INFO 2022-07-27 16:27:17 Shutting down
INFO 2022-07-27 16:27:17 Waiting for application shutdown.
INFO 2022-07-27 16:27:17 Application shutdown complete.
INFO 2022-07-27 16:27:17 Finished server process [74982]
INFO 2022-07-27 16:27:18 Started server process [75385]
INFO 2022-07-27 16:27:18 Waiting for application startup.
INFO 2022-07-27 16:27:18 Application startup complete.
INFO 2022-07-27 16:29:21 Shutting down
INFO 2022-07-27 16:29:21 Waiting for application shutdown.
INFO 2022-07-27 16:29:21 Application shutdown complete.
INFO 2022-07-27 16:29:21 Finished server process [75385]
INFO 2022-07-27 16:30:14 Started server process [75437]
INFO 2022-07-27 16:30:14 Waiting for application startup.
INFO 2022-07-27 16:30:14 Application startup complete.
INFO 2022-07-27 16:39:20 Shutting down
INFO 2022-07-27 16:39:20 Waiting for application shutdown.
INFO 2022-07-27 16:39:20 Application shutdown complete.
INFO 2022-07-27 16:39:20 Finished server process [75437]
INFO 2022-07-27 17:02:44 Started server process [76098]
INFO 2022-07-27 17:02:44 Waiting for application startup.
INFO 2022-07-27 17:02:44 Application startup complete.
ERROR 2022-07-28 10:18:17 Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 366, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 96, in __call__
    raise exc from None
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 93, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/applications.py", line 119, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/exceptions.py", line 87, in __call__
    raise exc
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/exceptions.py", line 76, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/routing.py", line 659, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/routing.py", line 259, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/routing.py", line 61, in app
    response = await func(request)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/concurrency.py", line 45, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/anyio/to_thread.py", line 28, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(func, *args, cancellable=cancellable,
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 818, in run_sync_in_worker_thread
    return await future
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 754, in run
    result = context.run(func, *args)
  File "/Users/beginner/Projects/temp/fastapi-vue/backend/app/apps/user/views.py", line 92, in changePassword
    if not curd_user.checkPwd(db, _id=user_id, pwd=obj):
  File "/Users/beginner/Projects/temp/fastapi-vue/backend/app/apps/user/curd/curd_user.py", line 120, in checkPwd
    u = db.query(self.model.hashed_password).filter(self.model.id == _id, self.model.is_deleted == 0).fist()
AttributeError: 'Query' object has no attribute 'fist'
INFO 2022-07-28 10:18:41 Shutting down
INFO 2022-07-28 10:18:41 Waiting for application shutdown.
INFO 2022-07-28 10:18:41 Application shutdown complete.
INFO 2022-07-28 10:18:41 Finished server process [76098]
INFO 2022-07-28 10:18:43 Started server process [81544]
INFO 2022-07-28 10:18:43 Waiting for application startup.
INFO 2022-07-28 10:18:43 Application startup complete.
ERROR 2022-07-28 10:20:57 Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 366, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 96, in __call__
    raise exc from None
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 93, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/applications.py", line 119, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/exceptions.py", line 87, in __call__
    raise exc
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/exceptions.py", line 76, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/routing.py", line 659, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/routing.py", line 259, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/routing.py", line 61, in app
    response = await func(request)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/starlette/concurrency.py", line 45, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/anyio/to_thread.py", line 28, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(func, *args, cancellable=cancellable,
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 818, in run_sync_in_worker_thread
    return await future
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 754, in run
    result = context.run(func, *args)
  File "/Users/beginner/Projects/temp/fastapi-vue/backend/app/apps/user/views.py", line 92, in changePassword
    if not curd_user.checkPwd(db, _id=user_id, pwd=obj):
  File "/Users/beginner/Projects/temp/fastapi-vue/backend/app/apps/user/curd/curd_user.py", line 121, in checkPwd
    return u and verify_password(pwd, u['hashed_password'])
  File "/Users/beginner/Projects/temp/fastapi-vue/backend/app/common/security.py", line 21, in verify_password
    return pwd_context.verify(plain_password, hashed_password)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/passlib/context.py", line 2347, in verify
    return record.verify(secret, hash, **kwds)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/passlib/utils/handlers.py", line 787, in verify
    validate_secret(secret)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.9/site-packages/passlib/utils/handlers.py", line 122, in validate_secret
    raise exc.ExpectedStringError(secret, "secret")
TypeError: secret must be unicode or bytes, not apps.user.schemas.user_info_schemas.ChangePasswordSchema
INFO 2022-07-28 10:23:01 Shutting down
INFO 2022-07-28 10:23:02 Waiting for application shutdown.
INFO 2022-07-28 10:23:02 Application shutdown complete.
INFO 2022-07-28 10:23:02 Finished server process [81544]
INFO 2022-07-28 10:23:02 Started server process [81625]
INFO 2022-07-28 10:23:02 Waiting for application startup.
INFO 2022-07-28 10:23:02 Application startup complete.
INFO 2022-07-28 10:38:21 Shutting down
INFO 2022-07-28 10:38:21 Waiting for application shutdown.
INFO 2022-07-28 10:38:21 Application shutdown complete.
INFO 2022-07-28 10:38:21 Finished server process [81625]
